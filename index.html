<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Financial Freedom Planner</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
:root { --primary: #007bff; --success: #28a745; --bg: #f4f7f6; --card: #ffffff; }
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; }

/* Layout */
.container { max-width: 600px; margin: 0 auto; background: var(--card); padding: 25px; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); }
h2 { text-align: center; margin-top: 0; color: #2c3e50; }

/* Inputs */
.section-title { font-size: 0.9em; text-transform: uppercase; letter-spacing: 1px; color: #888; margin-top: 20px; margin-bottom: 10px; border-bottom: 1px solid #eee; padding-bottom: 5px; }
.input-group { margin-bottom: 15px; }
label { display: block; font-weight: 600; font-size: 0.9em; margin-bottom: 5px; color: #555; }
input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; box-sizing: border-box; transition: 0.2s; }
input:focus, select:focus { border-color: var(--primary); outline: none; }

/* Strategy Buttons */
.strategy-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 10px; }
.strat-btn { padding: 8px; font-size: 12px; background: #eef2f7; border: 1px solid #dce1e8; border-radius: 6px; cursor: pointer; color: #555; font-weight: 600; }
.strat-btn:hover { background: #e2e6ea; }
.strat-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

/* Inflation Toggle */
.toggle-group { display: flex; align-items: center; justify-content: space-between; margin-top: 10px; background: #f8f9fa; padding: 10px; border-radius: 8px; }
.toggle-label { font-size: 0.9em; font-weight: normal; margin: 0; }

/* Action Buttons */
.btn-main { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 10px; font-size: 18px; font-weight: bold; cursor: pointer; margin-top: 20px; box-shadow: 0 4px 6px rgba(0,123,255,0.2); transition: 0.2s; }
.btn-main:hover { background: #0056b3; transform: translateY(-1px); }
.btn-pdf { width: 100%; padding: 10px; background: #6c757d; color: white; border: none; border-radius: 8px; margin-top: 10px; cursor: pointer; font-size: 14px; }

/* Results Area */
#results-area { display: none; margin-top: 30px; border-top: 2px dashed #eee; padding-top: 20px; }
.metric-card { background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center; margin-bottom: 10px; }
.metric-title { font-size: 0.85em; color: #666; text-transform: uppercase; }
.metric-value { font-size: 1.8em; font-weight: 800; color: var(--success); margin: 5px 0; }
.metric-sub { font-size: 0.9em; color: #555; }

/* Chart Container */
.chart-container { position: relative; height: 300px; width: 100%; margin-top: 20px; }

/* Disclaimer & Footer */
.disclaimer { font-size: 11px; color: #aaa; text-align: center; margin-top: 30px; line-height: 1.5; border-top: 1px solid #eee; padding-top: 15px; }

/* Print/PDF Styling */
@media print {
body { background: white; }
.container { box-shadow: none; max-width: 100%; }
.btn-main, .btn-pdf, .strategy-grid, select, .toggle-group { display: none !important; }
input { border: none; padding: 0; font-weight: bold; }
h2:after { content: " - Report"; }
}
</style>
</head>
<body>

<div class="container">
<h2>üìà Wealth Planner Pro</h2>

<div class="input-group">
<label>Currency</label>
<select id="currency" onchange="updateCurrency()">
<option value="USD">üá∫üá∏ Dollar ($)</option>
<option value="ZAR" selected>üáøüá¶ Rand (R)</option>
<option value="EUR">üá™üá∫ Euro (‚Ç¨)</option>
<option value="GBP">üá¨üáß Pound (¬£)</option>
</select>
</div>

<div class="section-title">Your Goals (FIRE)</div>
<div class="input-group">
<label>Monthly Expenses (Current)</label>
<input type="number" id="expenses" placeholder="20000" value="20000">
</div>

<div class="section-title">Investment Details</div>

<div class="input-group">
<label>Current Savings</label>
<input type="number" id="start" value="10000">
</div>

<div class="input-group">
<label>Monthly Contribution</label>
<input type="number" id="monthly" value="2000">
</div>

<div class="input-group">
<label>Annual Return (%)</label>
<div class="strategy-grid">
<button class="strat-btn" onclick="setRate(5, this)">Safe (5%)</button>
<button class="strat-btn active" onclick="setRate(9, this)">Balanced (9%)</button>
<button class="strat-btn" onclick="setRate(12, this)">Aggr. (12%)</button>
</div>
<input type="number" id="rate" value="9">
</div>

<div class="input-group">
<label>Years to Grow</label>
<input type="number" id="years" value="20">
</div>

<div class="toggle-group">
<label class="toggle-label">Adjust for Inflation (Avg 4.5%)?</label>
<input type="checkbox" id="inflation" style="width: auto;">
</div>

<button class="btn-main" onclick="calculate()">Calculate Freedom</button>

<div id="results-area">
<div class="metric-card">
<div class="metric-title">Projected Wealth</div>
<div class="metric-value" id="final-wealth">0</div>
<div class="metric-sub">after <span id="res-years">0</span> years</div>
</div>

<div class="metric-card" style="background: #e3f2fd;">
<div class="metric-title">FIRE Number (Freedom Target)</div>
<div class="metric-value" id="fire-number">0</div>
<div class="metric-sub" id="fire-status">Calculating...</div>
</div>

<div class="chart-container">
<canvas id="wealthChart"></canvas>
</div>

<button class="btn-pdf" onclick="window.print()">üñ®Ô∏è Save as PDF / Print Report</button>
</div>

<p class="disclaimer">
<strong>Disclaimer:</strong> This tool is for educational and simulation purposes only. It does not constitute financial advice. "FIRE" calculations are based on the 'Rule of 25'. Investment returns and inflation are unpredictable.
</p>
</div>

<script>
let myChart = null;

function setRate(val, btn) {
document.getElementById('rate').value = val;
// Reset active class on buttons
document.querySelectorAll('.strat-btn').forEach(b => b.classList.remove('active'));
btn.classList.add('active');
}

function calculate() {
// 1. Get Values
const currency = document.getElementById('currency').value;
const expenses = parseFloat(document.getElementById('expenses').value) || 0;
const P = parseFloat(document.getElementById('start').value) || 0;
const PMT = parseFloat(document.getElementById('monthly').value) || 0;
let rate = parseFloat(document.getElementById('rate').value) || 0;
const years = parseFloat(document.getElementById('years').value) || 0;
const useInflation = document.getElementById('inflation').checked;

// 2. Adjust for Inflation (Fisher Equation approximation)
// If inflation is on, we reduce the effective return rate
if (useInflation) {
rate = rate - 4.5; // Assuming 4.5% global avg inflation
}

// 3. FIRE Calculation (Rule of 25)
const annualExpenses = expenses * 12;
const fireNumber = annualExpenses * 25;

// 4. Generate Data for Chart
const labels = [];
const data = [];
let currentBalance = P;
let fireYear = null;
const monthlyRate = (rate / 100) / 12;

for (let i = 0; i <= years; i++) {
labels.push("Year " + i);
data.push(currentBalance);

// Check if we hit FIRE number this year
if (fireYear === null && currentBalance >= fireNumber) {
fireYear = i;
}

// Compound for next year
for (let m = 0; m < 12; m++) {
currentBalance = (currentBalance * (1 + monthlyRate)) + PMT;
}
}

// 5. Display Text Results
document.getElementById('results-area').style.display = 'block';
document.getElementById('res-years').innerText = years;

const formatter = new Intl.NumberFormat(getLocale(currency), { style: 'currency', currency: currency, maximumFractionDigits: 0 });

document.getElementById('final-wealth').innerText = formatter.format(data[data.length - 1]);
document.getElementById('fire-number').innerText = formatter.format(fireNumber);

const statusDiv = document.getElementById('fire-status');
if (fireYear !== null) {
statusDiv.innerHTML = `‚úÖ You reach Financial Freedom in <strong>Year ${fireYear}</strong>`;
statusDiv.style.color = 'green';
} else {
statusDiv.innerHTML = `‚ö†Ô∏è You will not reach Freedom in ${years} years. Increase contribution!`;
statusDiv.style.color = '#d9534f';
}

// 6. Render Chart
renderChart(labels, data, fireNumber, currency);
}

function renderChart(labels, data, goal, cur) {
const ctx = document.getElementById('wealthChart').getContext('2d');

if (myChart) myChart.destroy(); // Clear old chart

myChart = new Chart(ctx, {
type: 'line',
data: {
labels: labels,
datasets: [{
label: 'Projected Wealth',
data: data,
borderColor: '#28a745',
backgroundColor: 'rgba(40, 167, 69, 0.1)',
fill: true,
tension: 0.3
},
{
label: 'Freedom Goal',
data: Array(labels.length).fill(goal),
borderColor: '#dc3545',
borderDash: [5, 5],
pointRadius: 0,
fill: false
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
scales: {
y: {
beginAtZero: true,
grid: { color: '#f0f0f0' },
ticks: {
callback: function(value) {
return new Intl.NumberFormat(getLocale(cur), { style: 'currency', currency: cur, notation: "compact" }).format(value);
}
}
},
x: { grid: { display: false } }
}
}
});
}

function getLocale(currency) {
if (currency === 'ZAR') return 'en-ZA';
if (currency === 'EUR') return 'de-DE';
if (currency === 'GBP') return 'en-GB';
return 'en-US';
}

// Initialize with South African Default
document.addEventListener('DOMContentLoaded', () => {
calculate();
});
</script>

</body>
</html>
