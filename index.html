<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Financial Freedom Planner | Wealth App</title>
<meta name="description" content="Track your Net Worth, calculate FIRE (Financial Independence), and plan retirement. Free, secure, and installs on your phone.">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#2c3e50">
<link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/2910/2910796.png">

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* Light Theme (Default) */
:root {
--bg: #f4f6f8;
--card: #ffffff;
--text: #333333;
--text-sub: #666666;
--primary: #2c3e50;
--accent: #007bff;
--border: #e0e0e0;
--input-bg: #ffffff;
--ad-bg: #e9ecef;
}

/* Dark Theme Variables */
[data-theme="dark"] {
--bg: #121212;
--card: #1e1e1e;
--text: #e0e0e0;
--text-sub: #a0a0a0;
--primary: #bb86fc;
--accent: #3700b3; /* darker purple/blue */
--border: #333333;
--input-bg: #2c2c2c;
--ad-bg: #252525;
}

body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); margin: 0; padding: 0; transition: 0.3s; }

.main-wrapper { max-width: 600px; margin: 0 auto; padding: 20px; min-height: 100vh; }

/* Header & Dark Toggle */
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 1px solid var(--border); }
.header h1 { margin: 0; font-size: 1.2rem; color: var(--text); }

.theme-toggle { background: none; border: 1px solid var(--border); padding: 8px 12px; border-radius: 20px; cursor: pointer; color: var(--text); font-size: 14px; display: flex; align-items: center; gap: 5px; }
.theme-toggle:hover { background: var(--border); }

/* Cards */
.card { background: var(--card); padding: 25px; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-bottom: 20px; border: 1px solid var(--border); }

/* Inputs */
label { display: block; font-weight: 600; font-size: 0.85em; margin-bottom: 8px; color: var(--text-sub); }
input, select { width: 100%; padding: 14px; border: 1px solid var(--border); border-radius: 10px; font-size: 16px; background: var(--input-bg); color: var(--text); box-sizing: border-box; margin-bottom: 15px; }
input:focus { border-color: var(--primary); outline: none; }

/* Buttons */
.btn-main { width: 100%; padding: 16px; background: #007bff; color: white; border: none; border-radius: 12px; font-size: 18px; font-weight: bold; cursor: pointer; box-shadow: 0 4px 12px rgba(0,123,255,0.3); transition: 0.2s; }
.btn-main:active { transform: scale(0.98); }

/* Strategy Tags */
.strategy-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-bottom: 15px; }
.strat-btn { padding: 10px; background: var(--input-bg); border: 1px solid var(--border); border-radius: 8px; color: var(--text); cursor: pointer; font-size: 12px; }
.strat-btn.active { background: #007bff; color: white; border-color: #007bff; }

/* Results */
#results-area { display: none; margin-top: 20px; animation: fadeIn 0.5s ease; }
.highlight-box { text-align: center; padding: 20px; background: rgba(0,123,255,0.1); border-radius: 12px; margin-bottom: 20px; }
.big-number { font-size: 2.2rem; font-weight: 800; color: #007bff; display: block; margin: 5px 0; }
.chart-box { height: 300px; margin-top: 20px; }

/* Ads */
.ad-slot { background: var(--ad-bg); border: 1px dashed var(--border); color: var(--text-sub); padding: 15px; text-align: center; margin: 30px 0; border-radius: 8px; font-size: 0.8rem; }

@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
</style>
</head>
<body>

<div class="main-wrapper">

<header class="header">
<h1>ðŸ“Š Wealth App</h1>
<button class="theme-toggle" onclick="toggleTheme()">
<span id="theme-icon">ðŸŒ™</span> Mode
</button>
</header>

<div class="card">
<label>Currency</label>
<select id="currency" onchange="calculate()">
<option value="ZAR">ðŸ‡¿ðŸ‡¦ South Africa (ZAR)</option>
<option value="USD">ðŸ‡ºðŸ‡¸ International (USD)</option>
<option value="GBP">ðŸ‡¬ðŸ‡§ UK (GBP)</option>
</select>

<label>Current Net Worth / Savings</label>
<input type="number" id="start" value="10000" oninput="saveData()">

<label>Monthly Investment</label>
<input type="number" id="monthly" value="2000" oninput="saveData()">

<label>Growth Rate (%)</label>
<div class="strategy-grid">
<button class="strat-btn" onclick="setRate(6, this)">Safe (6%)</button>
<button class="strat-btn active" onclick="setRate(10, this)">Market (10%)</button>
<button class="strat-btn" onclick="setRate(15, this)">Aggr. (15%)</button>
</div>
<input type="number" id="rate" value="10" oninput="saveData()">

<label>Years to Grow</label>
<input type="number" id="years" value="20" oninput="saveData()">

<button class="btn-main" onclick="calculate()">Project Wealth</button>
</div>

<div id="results-area">
<div class="highlight-box">
<span>Projected Wealth</span>
<span class="big-number" id="final-wealth">0.00</span>
<small id="subtitle">in 20 years</small>
</div>
<div class="card chart-box">
<canvas id="wealthChart"></canvas>
</div>
</div>

<div class="ad-slot">
Advertisement Area<br>(Google AdSense goes here)
</div>

<div class="card" style="font-size: 0.9rem; color: var(--text-sub);">
<h3>About this Tool</h3>
<p>This progressive web app allows you to track compound interest and net worth goals. It saves your data locally on your device, so you never lose your progress.</p>
<p><strong>Tip:</strong> Tap "Share" > "Add to Home Screen" to install this as an app on your phone.</p>
</div>

<footer style="text-align: center; font-size: 0.8rem; color: var(--text-sub); padding-bottom: 30px;">
<p>Disclaimer: Educational purposes only. Not financial advice.</p>
</footer>

</div>

<script>
// 1. Dark Mode Logic
function toggleTheme() {
const body = document.body;
const current = body.getAttribute('data-theme');
const next = current === 'dark' ? 'light' : 'dark';
body.setAttribute('data-theme', next);
document.getElementById('theme-icon').innerText = next === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
localStorage.setItem('theme', next);
}

// 2. Auto-Save Logic (Local Storage)
function saveData() {
const inputs = ['start', 'monthly', 'rate', 'years', 'currency'];
inputs.forEach(id => {
localStorage.setItem(id, document.getElementById(id).value);
});
}

function loadData() {
const inputs = ['start', 'monthly', 'rate', 'years', 'currency'];
inputs.forEach(id => {
const val = localStorage.getItem(id);
if (val) document.getElementById(id).value = val;
});

// Load Theme
const savedTheme = localStorage.getItem('theme');
if (savedTheme === 'dark') {
document.body.setAttribute('data-theme', 'dark');
document.getElementById('theme-icon').innerText = 'â˜€ï¸';
}
}

// 3. Calculator Logic
let myChart = null;

function setRate(val, btn) {
document.getElementById('rate').value = val;
document.querySelectorAll('.strat-btn').forEach(b => b.classList.remove('active'));
btn.classList.add('active');
saveData(); // Save choice
}

function calculate() {
const currency = document.getElementById('currency').value;
const P = parseFloat(document.getElementById('start').value) || 0;
const PMT = parseFloat(document.getElementById('monthly').value) || 0;
const r = (parseFloat(document.getElementById('rate').value) || 0) / 100 / 12;
const n = (parseFloat(document.getElementById('years').value) || 0) * 12;

const labels = [];
const data = [];
let currentBalance = P;

for (let i = 0; i <= n/12; i++) {
labels.push("Year " + i);
data.push(currentBalance);
for (let m = 0; m < 12; m++) {
currentBalance = (currentBalance * (1 + r)) + PMT;
}
}

document.getElementById('results-area').style.display = 'block';

// Formatter
let locale = 'en-US';
if(currency === 'ZAR') locale = 'en-ZA';
if(currency === 'GBP') locale = 'en-GB';

const formatter = new Intl.NumberFormat(locale, { style: 'currency', currency: currency, maximumFractionDigits: 0 });

document.getElementById('final-wealth').innerText = formatter.format(data[data.length - 1]);
document.getElementById('subtitle').innerText = `in ${n/12} years`;

// Chart
const ctx = document.getElementById('wealthChart').getContext('2d');
if (myChart) myChart.destroy();

// Chart color based on theme
const isDark = document.body.getAttribute('data-theme') === 'dark';
const lineColor = isDark ? '#bb86fc' : '#007bff';
const gridColor = isDark ? '#333' : '#eee';
const textColor = isDark ? '#aaa' : '#666';

myChart = new Chart(ctx, {
type: 'line',
data: {
labels: labels,
datasets: [{
label: 'Wealth Growth',
data: data,
borderColor: lineColor,
backgroundColor: isDark ? 'rgba(187, 134, 252, 0.1)' : 'rgba(0, 123, 255, 0.1)',
fill: true,
tension: 0.4
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
scales: {
y: { grid: { color: gridColor }, ticks: { color: textColor, callback: (val) => formatter.format(val) } },
x: { grid: { display: false }, ticks: { color: textColor } }
},
plugins: { legend: { display: false } }
}
});
}

// Init
window.onload = function() {
loadData();
};
</script>

</body>
</html>
